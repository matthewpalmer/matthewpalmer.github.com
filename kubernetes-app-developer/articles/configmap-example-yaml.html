<html>
<head>
  <meta charset="utf-8">
  <title>ConfigMap ‚Äì Kubernetes Example with YAML</title>
  <link rel="stylesheet" href="../styles.css" media="screen" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-35071535-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-35071535-2');
  </script>
</head>
<body class="sidebar">
  <nav class="article-nav">
      <a href="/kubernetes-app-developer/">üè° Home</a>
      
      <a href="/kubernetes-app-developer/kubernetes-book.html">üìñ Kubernetes Book</a>
      <a href="/kubernetes-app-developer/#purchase">üéì CKAD Certification Course</a>
  </nav>

  <div class="article-container">
    <h1>ConfigMap ‚Äì Kubernetes Example with YAML</h1>

    <p>A ConfigMap stores configuration settings that your Kubernetes Pods consume.</p>
    <p>In this tutorial, we‚Äôll explain ConfigMaps and give you the complete example YAML
      to create and use a ConfigMap.</p>
    <p>You can find more detail in our <a href="./ultimate-configmap-guide-kubernetes.html">Ultimate ConfigMap Guide</a>.

    <h2>How does a ConfigMap work?</h2>

    <p>A ConfigMap is a dictionary of key-value pairs that store configuration settings for your applications.</p>

    <p>First, create a ConfigMap in your cluster by tweaking our sample YAML to your needs.</p>
    <p>Second, consume to ConfigMap in your Pods and use its values.</p>

    <img src="./configmap-diagram.gif" title="Kubernetes ConfigMap Example Diagram" />

    <h2>Example YAML Code</h2>

    <p>The simplest way to create a ConfigMap is to store a bunch of key-value
      strings in a ConfigMap YAML file and inject them as environment variables
      into your Pods.</p>

    <p>After that, you can reference the environment variables in your applications using whatever methods
    is necessary for your programming language.</p> 

    <h3>Creating a ConfigMap</h3>

    <p>This YAML creates a ConfigMap with the value <code>database</code> set to <code>mongodb</code>, and
      <code>database_uri</code>, and <code>keys</code> set to the values in the YAML example code.</p>

    <p>Then, create the ConfigMap in the cluster using <code>kubectl apply -f config-map.yaml</code>.</p>

    <script src="https://gist.github.com/matthewpalmer/33016359f49c88acc12e86eda232f14a.js"></script>
    <br /><br />
    <h3>Using a ConfigMap in Environment Variables</h3>

    <p>The key to adding your ConfigMap as environment variables to your pods is the <code>envFrom</code>
    property in your Pod‚Äôs YAML.</p>

    <p>Set <code>envFrom</code> to a reference to the ConfigMap you‚Äôve created.</p>

    <script src="https://gist.github.com/matthewpalmer/c9649e7769e3e7e5e3790f5b3a4e6908.js"></script>
    <br />
    <p>After you‚Äôve created the Pod, you‚Äôll be able to access these environment variables.</p>

    <img src="./configmap-env-var.png" />

    <br /><br />

    <p>Want example YAML for every Kubernetes object? Check out <a href="/kubernetes-app-developer/">the book</a>.</p>

  </div>
  <div class="sidebar-container">
      <a class="sidebar-cover" href="/kubernetes-app-developer/">
          <img class="cover" src="../ckad-guide-new.png" />
          <h2>Learn Kube Faster.<br/>Get the #1 guide.</h2>
      </a>
      
      <p>
          Get my book on Kubernetes for software developers, used by engineers at Google, Microsoft, and IBM.
      </p>
      <a class="sidebar-cta" href="/kubernetes-app-developer/kubernetes-book.html">Get Book</a>
  </div>
  <div class="clear"></div>
</body>
</html>
