<html>
<head>
  <meta charset="utf-8">
  <title>Which Kubernetes apiVersion Should I Use? - Kubernetes Book</title>
  <link rel="stylesheet" href="../styles.css" media="screen" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-35071535-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-35071535-2');
  </script>
</head>
<body class="sidebar">
    <nav class="article-nav">
        <a href="/kubernetes-app-developer/">üè° Home</a>
        <a href="/kubernetes-app-developer/#purchase">üìñ Download eBook</a>
        <a href="/kubernetes-app-developer/#purchase">üéì CKAD Certification Course</a>
    </nav>
  <div class="article-container">
    <h1>Which Kubernetes <code>apiVersion</code> Should I Use?</h1>

    <p>An object definition in Kubernetes requires an <code>apiVersion</code> field. When Kubernetes has a release that updates what is available for you to use‚Äîchanges something in its API‚Äîa new <code>apiVersion</code> is created.</p>

    <p>However, the official Kubernetes documentation provides little guidance on <code>apiVersion</code>. This guide gives you a cheat sheet on which version to use, explains each version, and gives you the timeline of releases.</p>

    <p><em>Last updated 4 June, 2018. <a href="https://twitter.com/_matthewpalmer">Contact me</a> to report inaccuracies.</em></p>

    <br />

    <blockquote>
      <p>This is an excerpt from my book, <a href="../">Golden Guide to Kubernetes Application Development</a>. If you‚Äôre a web application developer who wants to become a Kubernetes expert very quickly, check out the book.</p>
    </blockquote>

    <h2>Which <code>apiVersion</code> should I use?</h2> 

    <table id="kubernetes-apiversion-table">
      <thead>
        <tr>
          <th>Kind</th>
          <th><code>apiVersion</code></th>
        </tr>
      </thead>
      <tbody>
        <tr><td>CertificateSigningRequest</td><td>certificates.k8s.io/v1beta1</td></tr>
        <tr><td>ClusterRoleBinding</td><td>rbac.authorization.k8s.io/v1</td></tr>
        <tr><td>ClusterRole</td><td>rbac.authorization.k8s.io/v1</td></tr>
        <tr><td>ComponentStatus</td><td>v1</td></tr>
        <tr><td>ConfigMap</td><td>v1</td></tr>
        <tr><td>ControllerRevision</td><td>apps/v1</td></tr>
        <tr><td>CronJob</td><td>batch/v1beta1</td></tr>
        <tr><td>DaemonSet</td><td>extensions/v1beta1</td></tr>
        <tr><td>Deployment</td><td>extensions/v1beta1</td></tr>
        <tr><td>Endpoints</td><td>v1</td></tr>
        <tr><td>Event</td><td>v1</td></tr>
        <tr><td>HorizontalPodAutoscaler</td><td>autoscaling/v1</td></tr>
        <tr><td>Ingress</td><td>extensions/v1beta1</td></tr>
        <tr><td>Job</td><td>batch/v1</td></tr>
        <tr><td>LimitRange</td><td>v1</td></tr>
        <tr><td>Namespace</td><td>v1</td></tr>
        <tr><td>NetworkPolicy</td><td>extensions/v1beta1</td></tr>
        <tr><td>Node</td><td>v1</td></tr>
        <tr><td>PersistentVolumeClaim</td><td>v1</td></tr>
        <tr><td>PersistentVolume</td><td>v1</td></tr>
        <tr><td>PodDisruptionBudget</td><td>policy/v1beta1</td></tr>
        <tr><td>Pod</td><td>v1</td></tr>
        <tr><td>PodSecurityPolicy</td><td>extensions/v1beta1</td></tr>
        <tr><td>PodTemplate</td><td>v1</td></tr>
        <tr><td>ReplicaSet</td><td>extensions/v1beta1</td></tr>
        <tr><td>ReplicationController</td><td>v1</td></tr>
        <tr><td>ResourceQuota</td><td>v1</td></tr>
        <tr><td>RoleBinding</td><td>rbac.authorization.k8s.io/v1</td></tr>
        <tr><td>Role</td><td>rbac.authorization.k8s.io/v1</td></tr>
        <tr><td>Secret</td><td>v1</td></tr>
        <tr><td>ServiceAccount</td><td>v1</td></tr>
        <tr><td>Service</td><td>v1</td></tr>
        <tr><td>StatefulSet</td><td>apps/v1</td></tr>
      </tbody>
    </table>

    <h2>What does each <code>apiVersion</code> mean?</h2>
    <p>
      <strong>alpha</strong><br />
      API versions with ‚Äòalpha‚Äô in their name are early candidates for new functionality coming into Kubernetes. These may contain bugs and are not guaranteed to work in the future.
    </p>

    <p>
      <strong>beta</strong><br />
      ‚Äòbeta‚Äô in the API version name means that testing has progressed past alpha level, and that the feature will eventually be included in Kubernetes. Although the way it works might change, and the way objects are defined may change completely, the feature itself is highly likely to make it into Kubernetes in some form.
    </p>

    <p>
      <strong>stable</strong><br />
      These do not contain ‚Äòalpha‚Äô or ‚Äòbeta‚Äô in their name. They are safe to use.
    </p>

    <br />
    <hr>
    <br />

    <p>
      <strong>v1</strong><br />
      This was the first stable release of the Kubernetes API. It contains many core objects.
    </p>

    <p>
      <strong>apps/v1</strong><br />
      <code>apps</code> is the most common API group in Kubernetes, with many core objects being drawn from it and <code>v1</code>. It includes functionality related to running applications on Kubernetes, like Deployments, RollingUpdates, and ReplicaSets.
    </p>

    <p>
      <strong>autoscaling/v1</strong><br />
      This API version allows pods to be autoscaled based on different resource usage metrics. This stable version includes support for only CPU scaling, but future alpha and beta versions will allow you to scale based on memory usage and custom metrics.
    </p>

    <p>
      <strong>batch/v1</strong><br />
      The <code>batch</code> API group contains objects related to batch processing and job-like tasks (rather than application-like tasks like running a webserver indefinitely). This apiVersion is the first stable release of these API objects.
    </p>

    <p>
      <strong>batch/v1beta1</strong><br />
      A beta release of new functionality for batch objects in Kubernetes, notably including CronJobs that let you run Jobs at a specific time or periodicity.
    </p>

    <p>
      <strong>certificates.k8s.io/v1beta1</strong><br />
      This API release adds functionality to validate network certificates for secure communication in your cluster. You can read more <a href="https://kubernetes.io/docs/tasks/tls/managing-tls-in-a-cluster/">on the official docs</a>.
    </p>

    <p>
      <strong>extensions/v1beta1</strong><br />
      This version of the API includes many new, commonly used features of Kubernetes. Deployments, DaemonSets, ReplicaSets, and Ingresses all received significant changes in this release.
    </p>
    <p>
      Note that in Kubernetes 1.6, some of these objects were relocated from <code>extensions</code> to specific API groups (e.g. <code>apps</code>). When these objects move out of beta, expect them to be in a specific API group like <code>apps/v1</code>. Using <code>extensions/v1beta1</code> is becoming deprecated‚Äîtry to use the specific API group where possible, depending on your Kubernetes cluster version.
    </p>

    <p>
      <strong>policy/v1beta1</strong><br />
      This apiVersion adds the ability to set a pod disruption budget and new rules around pod security.
    </p>

    <p>
      <strong>rbac.authorization.k8s.io/v1</strong><br />
      This apiVersion includes extra functionality for Kubernetes role-based access control. This helps you to secure your cluster. Check out <a href="https://kubernetes.io/blog/2017/10/using-rbac-generally-available-18/">the official blog post</a>.
    </p>
  </div>

  <div class="sidebar-container">
      <a class="sidebar-cover" href="/kubernetes-app-developer/">
          <img class="cover" src="../ckad-guide-new.png" />
          <h2>Learn Kube Faster.<br/>Get the #1 guide.</h2>
      </a>
      
      <p>
          This is an excerpt from my book on Kubernetes for backend developers.
      </p>
      <p>
          Great for software engineers learning Kubernetes. Perfect
          for developers getting their CKAD certification.
      </p>
      <a class="sidebar-cta" href="/kubernetes-app-developer/">Get Free Chapter</a>
  </div>
  <div class="clear"></div>
</body>
</html>
